(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54240,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},91663,e=>{"use strict";var t=e.i(5053),a=e.i(87707),r=e.i(44142),n=e.i(5301),o=e.i(7551);function s(){let{address:e,isConnected:s}=(0,n.useWallet)(),[i,l]=(0,t.useState)(!1);(0,t.useCallback)(()=>{if(!window.ethereum)throw Error("MetaMask not installed");return new a.BrowserProvider(window.ethereum)},[]);let d=(0,t.useCallback)(async(t,a)=>{let r=Date.now(),n=`0x${Array.from({length:32},()=>Math.floor(256*Math.random()).toString(16).padStart(2,"0")).join("")}`;return{proof:`${e}-${t}-${r}-${n}`,timestamp:r,nonce:n}},[e]),c=(0,t.useCallback)(async t=>{if(!s||!e)return o.default.error("Please connect your wallet"),!1;l(!0);try{let a=await fetch("/api/payment/amounts"),r=await a.json(),n=BigInt(r.viewDetails.amountWei),{proof:s}=await d(n,"GET /api/models/[id]/details"),i=await fetch(`/api/models/${t}/details`,{method:"GET",headers:{"x-payment-proof":s,"x-payment-address":e,"x-payment-amount":n.toString()}});if(402===i.status){let e=await i.json();return o.default.error(e.error||"Payment required"),!1}if(!i.ok)throw Error("Payment failed");return o.default.success("Payment successful! Viewing details..."),!0}catch(e){return console.error("View details payment error:",e),o.default.error(e?.message||"Payment failed"),!1}finally{l(!1)}},[e,s,d]),u=(0,t.useCallback)(async(t,a,r)=>{if(!s||!e)return o.default.error("Please connect your wallet"),!1;l(!0);try{let n=await fetch("/api/payment/amounts"),s=await n.json(),i=BigInt(s.competitionEntry.amountWei),{proof:l}=await d(i,"POST /api/competitions/[id]/enter"),c=await fetch(`/api/competitions/${t}/enter`,{method:"POST",headers:{"Content-Type":"application/json","x-payment-proof":l,"x-payment-address":e,"x-payment-amount":i.toString()},body:JSON.stringify({modelId:a,entryFee:r.toString(),paymentProof:l,paymentAddress:e,paymentAmount:i.toString()})});if(402===c.status){let e=await c.json();return o.default.error(e.error||"Payment required"),!1}if(!c.ok)throw Error("Competition entry failed");return o.default.success("Successfully entered competition!"),!0}catch(e){return console.error("Competition entry payment error:",e),o.default.error(e?.message||"Entry failed"),!1}finally{l(!1)}},[e,s,d]);return{payToViewDetails:c,payForCompetitionEntry:u,payForDeposit:(0,t.useCallback)(async(t,a)=>{if(!s||!e)return o.default.error("Please connect your wallet"),!1;l(!0);try{let r=await fetch("/api/payment/amounts"),n=await r.json(),s=BigInt(n.deposit.amountWei),{proof:i}=await d(s,"POST /api/models/[id]/invest"),l=await fetch(`/api/models/${t}/invest`,{method:"POST",headers:{"Content-Type":"application/json","x-payment-proof":i,"x-payment-address":e,"x-payment-amount":s.toString()},body:JSON.stringify({amount:a.toString(),paymentProof:i,paymentAddress:e,paymentAmount:s.toString()})});if(402===l.status){let e=await l.json();return o.default.error(e.error||"Payment required"),!1}if(!l.ok)throw Error("Deposit failed");return o.default.success("Deposit successful!"),!0}catch(e){return console.error("Deposit payment error:",e),o.default.error(e?.message||"Deposit failed"),!1}finally{l(!1)}},[e,s,d]),getPaymentAmounts:(0,t.useCallback)(async()=>{try{let e=await fetch("/api/payment/amounts");if(!e.ok)throw Error("Failed to fetch payment amounts");let t=await e.json();return{viewDetails:BigInt(t.viewDetails.amountWei),competitionEntry:BigInt(t.competitionEntry.amountWei),deposit:BigInt(t.deposit.amountWei)}}catch(e){return console.error("Error fetching payment amounts:",e),{viewDetails:(0,r.parseEther)("0.0001"),competitionEntry:(0,r.parseEther)("0.0005"),deposit:(0,r.parseEther)("0.0002")}}},[]),loading:i}}e.s(["useX402",()=>s])},86951,e=>{"use strict";let t=(0,e.i(14415).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],86951)},459,e=>{"use strict";let t=(0,e.i(14415).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],459)},55690,e=>{"use strict";var t=e.i(22699),a=e.i(5053),r=e.i(67615),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=e.i(95046);function s({className:e,...a}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>s],55690)},69800,e=>{"use strict";var t=e.i(22699),a=e.i(95046);function r({className:e,type:r,...n}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}e.s(["Input",()=>r])},46276,e=>{"use strict";var t=e.i(5053),a=e.i(70116),r=e.i(27589),n=e.i(64118),o=e.i(99246),s=e.i(44369),i=e.i(74761),l=e.i(3376),d=e.i(82981),c=e.i(53242),u=e.i(67615),p=e.i(34355),f=e.i(87704),m=e.i(99440),g=e.i(81381),y=e.i(22699),h="Dialog",[x,b]=(0,n.createContextScope)(h),[v,j]=x(h),w=e=>{let{__scopeDialog:a,children:r,open:n,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,c=t.useRef(null),u=t.useRef(null),[p=!1,f]=(0,s.useControllableState)({prop:n,defaultProp:i,onChange:l});return(0,y.jsx)(v,{scope:a,triggerRef:c,contentRef:u,contentId:(0,o.useId)(),titleId:(0,o.useId)(),descriptionId:(0,o.useId)(),open:p,onOpenChange:f,onOpenToggle:t.useCallback(()=>f(e=>!e),[f]),modal:d,children:r})};w.displayName=h;var D="DialogTrigger",C=t.forwardRef((e,t)=>{let{__scopeDialog:n,...o}=e,s=j(D,n),i=(0,r.useComposedRefs)(t,s.triggerRef);return(0,y.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":L(s.open),...o,ref:i,onClick:(0,a.composeEventHandlers)(e.onClick,s.onOpenToggle)})});C.displayName=D;var N="DialogPortal",[P,k]=x(N,{forceMount:void 0}),S=e=>{let{__scopeDialog:a,forceMount:r,children:n,container:o}=e,s=j(N,a);return(0,y.jsx)(P,{scope:a,forceMount:r,children:t.Children.map(n,e=>(0,y.jsx)(c.Presence,{present:r||s.open,children:(0,y.jsx)(d.Portal,{asChild:!0,container:o,children:e})}))})};S.displayName=N;var R="DialogOverlay",E=t.forwardRef((e,t)=>{let a=k(R,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,o=j(R,e.__scopeDialog);return o.modal?(0,y.jsx)(c.Presence,{present:r||o.open,children:(0,y.jsx)(I,{...n,ref:t})}):null});E.displayName=R;var I=t.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=j(R,a);return(0,y.jsx)(f.RemoveScroll,{as:g.Slot,allowPinchZoom:!0,shards:[n.contentRef],children:(0,y.jsx)(u.Primitive.div,{"data-state":L(n.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),T="DialogContent",O=t.forwardRef((e,t)=>{let a=k(T,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,o=j(T,e.__scopeDialog);return(0,y.jsx)(c.Presence,{present:r||o.open,children:o.modal?(0,y.jsx)(F,{...n,ref:t}):(0,y.jsx)(M,{...n,ref:t})})});O.displayName=T;var F=t.forwardRef((e,n)=>{let o=j(T,e.__scopeDialog),s=t.useRef(null),i=(0,r.useComposedRefs)(n,o.contentRef,s);return t.useEffect(()=>{let e=s.current;if(e)return(0,m.hideOthers)(e)},[]),(0,y.jsx)(A,{...e,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),M=t.forwardRef((e,a)=>{let r=j(T,e.__scopeDialog),n=t.useRef(!1),o=t.useRef(!1);return(0,y.jsx)(A,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),A=t.forwardRef((e,a)=>{let{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:d,...c}=e,u=j(T,n),f=t.useRef(null),m=(0,r.useComposedRefs)(a,f);return(0,p.useFocusGuards)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:d,children:(0,y.jsx)(i.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":L(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{titleId:u.titleId}),(0,y.jsx)(G,{contentRef:f,descriptionId:u.descriptionId})]})]})}),_="DialogTitle",B=t.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=j(_,a);return(0,y.jsx)(u.Primitive.h2,{id:n.titleId,...r,ref:t})});B.displayName=_;var H="DialogDescription",$=t.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=j(H,a);return(0,y.jsx)(u.Primitive.p,{id:n.descriptionId,...r,ref:t})});$.displayName=H;var q="DialogClose",W=t.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=j(q,r);return(0,y.jsx)(u.Primitive.button,{type:"button",...n,ref:t,onClick:(0,a.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})});function L(e){return e?"open":"closed"}W.displayName=q;var z="DialogTitleWarning",[U,V]=(0,n.createContext)(z,{contentName:T,titleName:_,docsSlug:"dialog"}),X=({titleId:e})=>{let a=V(z),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return t.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},G=({contentRef:e,descriptionId:a})=>{let r=V("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return t.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");a&&t&&(document.getElementById(a)||console.warn(n))},[n,e,a]),null};e.s(["Close",()=>W,"Content",()=>O,"Description",()=>$,"Overlay",()=>E,"Portal",()=>S,"Root",()=>w,"Title",()=>B,"Trigger",()=>C])},6534,e=>{"use strict";let t=(0,e.i(14415).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},44313,e=>{"use strict";var t=e.i(6534);e.s(["XIcon",()=>t.default])},30796,e=>{"use strict";let t=(0,e.i(14415).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],30796)},48768,4720,72090,e=>{"use strict";var t=e.i(22699),a=e.i(95046);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function n({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...r})}function o({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function s({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function i({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function l({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>o,"TableCell",()=>l,"TableHead",()=>i,"TableHeader",()=>n,"TableRow",()=>s],48768);var d=e.i(46276),c=e.i(44313);function u({...e}){return(0,t.jsx)(d.Root,{"data-slot":"dialog",...e})}function p({...e}){return(0,t.jsx)(d.Portal,{"data-slot":"dialog-portal",...e})}function f({className:e,...r}){return(0,t.jsx)(d.Overlay,{"data-slot":"dialog-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function m({className:e,children:r,showCloseButton:n=!0,...o}){return(0,t.jsxs)(p,{"data-slot":"dialog-portal",children:[(0,t.jsx)(f,{}),(0,t.jsxs)(d.Content,{"data-slot":"dialog-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[r,n&&(0,t.jsxs)(d.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(c.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function g({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,a.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function y({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,a.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function h({className:e,...r}){return(0,t.jsx)(d.Title,{"data-slot":"dialog-title",className:(0,a.cn)("text-lg leading-none font-semibold",e),...r})}function x({className:e,...r}){return(0,t.jsx)(d.Description,{"data-slot":"dialog-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>u,"DialogContent",()=>m,"DialogDescription",()=>x,"DialogFooter",()=>y,"DialogHeader",()=>g,"DialogTitle",()=>h],4720);let b=(0,e.i(14415).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>b],72090)},95283,60959,e=>{"use strict";var t=e.i(22699),a=e.i(5053),r=e.i(17093),n=e.i(69800),o=e.i(55690),s=e.i(4720),i=e.i(85203),l=e.i(95046),d=e.i(20326),c=e.i(72090);let u=["ETH","BTC","SOL","AVAX","MATIC","ARB"];function p({open:e,onOpenChange:p,modelName:f,modelId:m,inferencePrice:g,onSubmit:y}){let[h,x]=(0,a.useState)("ETH"),[b,v]=(0,a.useState)(""),[j,w]=(0,a.useState)(!1),D=async e=>{e.preventDefault(),w(!0);try{await y({asset:h,price:b}),p(!1)}finally{w(!1)}};return(0,t.jsx)(s.Dialog,{open:e,onOpenChange:p,children:(0,t.jsxs)(s.DialogContent,{className:"glass border-border/50",children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsxs)(s.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Zap,{className:"w-5 h-5 text-primary"}),"Request Prediction"]}),(0,t.jsxs)(s.DialogDescription,{children:["Request an inference from ",(0,t.jsx)("span",{className:"text-foreground font-medium",children:f})," (#",m,")"]})]}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"asset",children:"Asset"}),(0,t.jsxs)(i.Select,{value:h,onValueChange:x,children:[(0,t.jsx)(i.SelectTrigger,{className:"bg-secondary/50 border-border/50",children:(0,t.jsx)(i.SelectValue,{placeholder:"Select asset"})}),(0,t.jsx)(i.SelectContent,{children:u.map(e=>(0,t.jsx)(i.SelectItem,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"price",children:"Current Price (USD)"}),(0,t.jsx)(n.Input,{id:"price",type:"number",placeholder:"e.g., 3500.00",value:b,onChange:e=>v(e.target.value),className:"bg-secondary/50 border-border/50",required:!0})]}),(0,t.jsx)("div",{className:"p-4 rounded-lg bg-secondary/30 border border-border/50",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Inference Cost"}),(0,t.jsx)("span",{className:"font-bold text-gradient",children:(0,l.formatEth)(g)})]})}),(0,t.jsxs)(s.DialogFooter,{children:[(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:j,children:"Cancel"}),(0,t.jsx)(r.Button,{type:"submit",disabled:j||!b,className:"bg-gradient-to-r from-primary to-accent hover:opacity-90",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Zap,{className:"w-4 h-4 mr-2"}),"Submit Request"]})})]})]})]})})}e.s(["InferenceModal",()=>p],95283);let f=(0,e.i(14415).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>f],60959)}]);